# AI侦探游戏案件创作指南

## 📖 目录
1. [创作原则](#创作原则)
2. [案件结构设计](#案件结构设计)
3. [角色设计规范](#角色设计规范)
4. [证据系统设计](#证据系统设计)
5. [推理乐趣设计](#推理乐趣设计)
6. [难度评定标准](#难度评定标准)
7. [常见陷阱与避免](#常见陷阱与避免)
8. [质量检查清单](#质量检查清单)
9. [案例分析](#案例分析)

---

## 🎯 创作原则

### 核心理念
- **推理优先**：案件应该通过逻辑推理解决，而非运气或猜测
- **公平游戏**：所有关键信息都应该可以通过合理的询问获得
- **渐进揭示**：真相应该层层递进，而非一次性暴露
- **多重嫌疑**：避免凶手过于明显，保持悬念

### 设计哲学
1. **信息不对称**：角色知道的信息 ≠ 玩家初始看到的信息
2. **逻辑闭环**：每个推理环节都应该有逻辑支撑
3. **情感共鸣**：案件应该有人性化的动机和背景
4. **重玩价值**：即使知道答案，推理过程仍然有趣

---

## 🏗️ 案件结构设计

### 基本信息设计

#### 1. 案件标题 (title)
- **要求**：简洁有力，暗示案件特色
- **长度**：6-12个字符
- **示例**：
  - ✅ "豪宅谋杀案" - 简洁明了
  - ✅ "雪夜山庄密室杀人案" - 突出环境和手法
  - ❌ "李明在自己家里被人用铜像打死的案件" - 过于冗长

#### 2. 案件描述 (description)
- **长度**：150-300字
- **结构**：环境描述 + 发现过程 + 悬念设置
- **要素**：
  - 营造氛围（时间、地点、天气等）
  - 描述发现尸体的过程
  - 提出核心疑问
  - 暗示复杂性

**模板示例**：
```
[环境氛围] + [发现过程] + [现场异常] + [悬念设置] + [人物关系暗示]
```

#### 3. 基础信息
- **受害者姓名** (victim_name)：简洁易记
- **犯罪现场** (crime_scene)：具体且有特色
- **犯罪时间** (time_of_crime)：为推理提供时间线基础

### 案件分类选择

#### CaseCategory 使用指南
- **CLASSIC_MURDER**：传统谋杀案，适合新手
- **LOCKED_ROOM**：密室杀人，需要机关设计
- **REVENGE**：复仇主题，情感动机强烈
- **FAMILY_DRAMA**：家庭纠纷，人际关系复杂
- **FINANCIAL_CRIME**：经济犯罪，动机明确
- **SUPERNATURAL**：超自然元素，需要科学解释

---

## 👥 角色设计规范

### 角色数量配置
- **最少配置**：4-5人（1受害者 + 3-4嫌疑人 + 1专家）
- **推荐配置**：6-7人（1受害者 + 4-5嫌疑人 + 1专家）
- **最多配置**：8人（避免过于复杂）

### 角色类型分配

#### 1. 受害者 (VICTIM)
- **作用**：案件的核心，所有线索的汇聚点
- **设计要点**：
  - 有足够的人际关系产生多个嫌疑人
  - 过往行为能够提供合理的杀人动机
  - 性格特点影响其他角色的行为

#### 2. 嫌疑人 (SUSPECT)
- **数量**：3-5人
- **设计原则**：
  - 每个人都有合理的杀人动机
  - 每个人都有机会作案
  - 每个人的不在场证明都有可疑之处
  - 真凶不应该过于明显

#### 3. 专家 (EXPERT)
- **作用**：提供专业信息，推动剧情
- **类型**：法医、警察、技术专家等
- **设计要点**：
  - 客观中立，不参与情感纠纷
  - 提供关键的技术性证据
  - 帮助玩家理解复杂的推理环节

### 角色信息设计规范

#### 1. 基础信息
```python
name: str           # 姓名：简洁易记，避免重复
age: int           # 年龄：符合职业和关系设定
occupation: str    # 职业：影响专业知识和社会地位
```

#### 2. 性格设计 (personality)
- **长度**：20-40字
- **要素**：表面性格 + 内在特质 + 行为特点
- **示例**：
  - ✅ "表面温和，但内心承受着巨大压力"
  - ✅ "叛逆冲动，但内心善良。说话直接，不善于掩饰情绪"
  - ❌ "好人" - 过于简单

#### 3. 背景设计 (background) ⭐ 重点
- **长度**：50-80字
- **原则**：提供线索，不暴露答案
- **要素**：
  - 与受害者的关系
  - 基本的生活/工作状况
  - 暗示性的问题或困难
  - 避免直接的犯罪行为描述

**正确示例**：
```
"嫁给李明5年，曾经恩爱甜蜜，但近年来夫妻关系出现问题。对家庭财务状况比较关心，希望维护家庭稳定。"
```

**错误示例**：
```
"发现丈夫出轨并准备离婚，已经联系律师并转移财产，当晚与丈夫发生激烈争吵。"
```

#### 4. 秘密设计 (secret) ⭐ 重点
- **长度**：30-50字
- **原则**：模糊化处理，保持神秘感
- **层次**：
  - **表层秘密**：可以通过询问发现
  - **深层秘密**：需要证据支撑才能揭露
  - **核心秘密**：只有真凶才有的关键信息

**模糊化技巧**：
- ✅ "最近遇到了一些经济困难"
- ❌ "欠了200万高利贷"
- ✅ "对老板有着复杂的情感"
- ❌ "深深暗恋老板，嫉妒老板的妻子"

#### 5. 不在场证明 (alibi)
- **设计原则**：
  - 所有人的证明都应该有可疑之处
  - 真凶的证明应该有明显漏洞，但不直接暴露
  - 无辜者的证明可以有小瑕疵，但经得起推敲

**示例**：
```
✅ "声称10点后一直在厨房准备夜宵，期间没有离开过"
❌ "声称在厨房，但实际上10点25分去书房与受害者争执"
```

#### 6. 动机设计 (motive)
- **要求**：每个嫌疑人都要有合理动机
- **类型**：
  - **经济动机**：债务、遗产、商业利益
  - **情感动机**：爱恨情仇、嫉妒、背叛
  - **社会动机**：名誉、地位、秘密保护
  - **复仇动机**：过往恩怨、正义感

#### 7. 知识设计 (knowledge)
- **原则**：角色应该知道的信息，而非推理结论
- **内容**：
  - 基本的人际关系
  - 日常观察到的现象
  - 专业领域的知识
  - 避免直接的犯罪证据

---

## 🔍 证据系统设计

### 证据层次结构

#### 第一层：动机证据
- **作用**：建立嫌疑人的作案动机
- **特点**：相对容易发现，但不直接指向凶手
- **示例**：离婚协议、债务记录、情书等

#### 第二层：时间线证据
- **作用**：建立案发时间的人员动向
- **特点**：揭示不在场证明的矛盾
- **示例**：通话记录、监控时间、目击证词

#### 第三层：物理证据
- **作用**：提供直接的犯罪证据
- **特点**：需要专业知识解读
- **示例**：指纹、血迹、凶器、足迹

#### 第四层：行为证据
- **作用**：显示预谋和事后行为
- **特点**：体现犯罪的计划性
- **示例**：提前转移财产、销毁证据、异常行为

#### 第五层：心理证据
- **作用**：从心理层面支撑推理
- **特点**：需要细致观察和分析
- **示例**：情绪异常、言行矛盾、压力反应

### 证据设计规范

#### 1. 证据名称 (name)
- **要求**：简洁明了，一目了然
- **示例**：
  - ✅ "血迹铜像"
  - ✅ "神秘电话"
  - ❌ "在书房发现的沾有血迹的铜制装饰品"

#### 2. 证据描述 (description)
- **长度**：30-60字
- **要素**：发现地点 + 物理特征 + 关键信息
- **客观性**：描述事实，不做推理结论

#### 3. 重要性 (significance)
- **作用**：说明证据的推理价值
- **要求**：指出证据的逻辑意义，但不直接给出结论

#### 4. 知情人设计 (known_by)
- **原则**：合理分配证据的知情范围
- **考虑因素**：
  - 角色的专业背景
  - 在场时间和位置
  - 观察能力和注意力
  - 与证据的相关性

---

## 🎮 推理乐趣设计

### 推理层次设计

#### 1. 表层推理（入门级）
- **目标**：让玩家快速进入状态
- **方法**：
  - 明显的矛盾点
  - 简单的时间线问题
  - 基础的动机分析

#### 2. 中层推理（进阶级）
- **目标**：考验玩家的逻辑能力
- **方法**：
  - 多重证据的关联
  - 复杂的时间线重构
  - 心理动机的深度分析

#### 3. 深层推理（专家级）
- **目标**：提供极致的推理体验
- **方法**：
  - 多重诡计的识破
  - 微妙线索的发现
  - 反转性的真相揭示

### 悬念设置技巧

#### 1. 红鲱鱼（假线索）
- **作用**：误导玩家，增加推理难度
- **使用原则**：
  - 有一定合理性，但经不起深入推敲
  - 不能过多，避免玩家困惑
  - 最终应该有合理解释

#### 2. 反转设计
- **类型**：
  - **身份反转**：看似无辜的人是真凶
  - **动机反转**：真实动机与表面动机不同
  - **手法反转**：实际作案手法与推测不同

#### 3. 多重嫌疑
- **设计要点**：
  - 每个嫌疑人都有充分的作案动机
  - 每个人的不在场证明都有漏洞
  - 避免某个角色过于明显

### 互动设计

#### 1. 询问系统
- **层次化信息**：
  - 基础信息：直接回答
  - 敏感信息：需要技巧性询问
  - 核心秘密：需要证据支撑

#### 2. 对话设计
- **角色一致性**：回答符合角色性格
- **信息渐进**：重要信息分多次透露
- **情绪变化**：根据询问内容调整态度

---

## 📊 难度评定标准

### 难度等级定义

#### EASY（简单）- 新手友好
**特征**：
- 嫌疑人数量：3-4人
- 证据层次：2-3层
- 推理复杂度：单线推理
- 红鲱鱼：0-1个
- 预计游戏时间：15-25分钟

**适用场景**：
- 新手玩家入门
- 儿童友好案例
- 快速游戏体验

**设计要点**：
- 动机明确且容易理解
- 证据链条简单直接
- 不在场证明漏洞明显
- 避免复杂的时间线

#### MEDIUM（中等）- 标准体验
**特征**：
- 嫌疑人数量：4-5人
- 证据层次：3-4层
- 推理复杂度：多线推理，有交叉
- 红鲱鱼：1-2个
- 预计游戏时间：25-40分钟

**适用场景**：
- 有一定经验的玩家
- 标准游戏体验
- 平衡挑战与乐趣

**设计要点**：
- 多个合理的嫌疑人
- 需要综合多种证据
- 有一定的推理技巧要求
- 适度的悬念设置

#### HARD（困难）- 挑战体验
**特征**：
- 嫌疑人数量：5-6人
- 证据层次：4-5层
- 推理复杂度：多重诡计，复杂关联
- 红鲱鱼：2-3个
- 预计游戏时间：40-60分钟

**适用场景**：
- 经验丰富的玩家
- 追求挑战的体验
- 密室推理等复杂类型

**设计要点**：
- 复杂的人际关系网
- 多重作案手法
- 需要深度逻辑推理
- 可能有反转情节

#### EXPERT（专家）- 极致挑战
**特征**：
- 嫌疑人数量：6-8人
- 证据层次：5+层
- 推理复杂度：多重反转，极致诡计
- 红鲱鱼：3+个
- 预计游戏时间：60+分钟

**适用场景**：
- 推理游戏专家
- 追求极致体验
- 特殊主题案例

**设计要点**：
- 极其复杂的推理链条
- 多重身份和动机
- 需要专业知识
- 可能有多重反转

### 难度评估清单

#### 复杂度评分（每项1-5分）
1. **角色关系复杂度**
   - 1分：简单的直接关系
   - 5分：多重交叉的复杂关系网

2. **证据分析难度**
   - 1分：直观易懂的证据
   - 5分：需要专业知识的复杂证据

3. **时间线复杂度**
   - 1分：简单的线性时间线
   - 5分：多重交叉的复杂时间线

4. **推理逻辑难度**
   - 1分：单步推理
   - 5分：多重嵌套推理

5. **红鲱鱼干扰度**
   - 1分：无或极少误导
   - 5分：大量精心设计的误导

**总分对应难度**：
- 5-10分：EASY
- 11-15分：MEDIUM
- 16-20分：HARD
- 21-25分：EXPERT

---

## ⚠️ 常见陷阱与避免

### 设计陷阱

#### 1. 信息过度暴露
**问题**：角色背景直接暴露凶手身份
**避免方法**：
- 使用模糊化描述
- 分层设计信息透露
- 通过对话而非背景揭示关键信息

#### 2. 逻辑漏洞
**问题**：推理链条存在逻辑缺陷
**避免方法**：
- 建立完整的时间线
- 确保每个推理步骤都有依据
- 多角度验证推理的合理性

#### 3. 动机不足
**问题**：凶手的杀人动机不够充分
**避免方法**：
- 设计深层的心理动机
- 考虑多重动机的叠加
- 确保动机符合角色性格

#### 4. 证据设计不当
**问题**：证据过于明显或过于隐晦
**避免方法**：
- 平衡证据的发现难度
- 确保关键证据可以通过合理途径获得
- 避免依赖运气的证据发现

### 技术陷阱

#### 1. 角色一致性问题
**问题**：角色在不同对话中表现不一致
**避免方法**：
- 建立详细的角色档案
- 确保回答符合角色设定
- 定期检查角色表现的一致性

#### 2. 信息量失衡
**问题**：某些角色信息过多，某些过少
**避免方法**：
- 平衡各角色的信息量
- 确保每个角色都有存在价值
- 避免信息冗余

#### 3. 难度曲线问题
**问题**：难度设置不合理，过易或过难
**避免方法**：
- 使用难度评估清单
- 进行多轮测试
- 收集玩家反馈调整

---

## ✅ 质量检查清单

### 创作完成后检查

#### 基础信息检查
- [ ] 案件标题简洁有力
- [ ] 案件描述营造氛围且设置悬念
- [ ] 基础信息完整准确
- [ ] 案件分类选择合适

#### 角色设计检查
- [ ] 角色数量适中（4-8人）
- [ ] 每个角色都有独特性格
- [ ] 背景信息不直接暴露凶手
- [ ] 所有嫌疑人都有合理动机
- [ ] 不在场证明设计合理
- [ ] 角色知识分配恰当

#### 证据系统检查
- [ ] 证据层次结构清晰
- [ ] 证据链条完整
- [ ] 关键证据可以合理获得
- [ ] 证据描述客观准确
- [ ] 知情人分配合理

#### 推理设计检查
- [ ] 推理逻辑严密
- [ ] 悬念设置恰当
- [ ] 红鲱鱼使用适度
- [ ] 真相揭示有说服力
- [ ] 重玩价值充足

#### 难度评估检查
- [ ] 使用难度评估清单评分
- [ ] 难度标记准确
- [ ] 符合目标玩家群体
- [ ] 游戏时间预估合理

### 测试验证

#### 逻辑测试
1. **时间线验证**：确保所有时间点逻辑自洽
2. **动机验证**：确保凶手动机充分合理
3. **证据验证**：确保证据链条完整无缺
4. **推理验证**：确保推理过程逻辑严密

#### 体验测试
1. **可玩性测试**：确保玩家能够通过合理途径解决案件
2. **趣味性测试**：确保推理过程有足够乐趣
3. **平衡性测试**：确保难度设置合理
4. **重玩性测试**：确保案件有重玩价值

---

## 📚 案例分析

### 优秀案例：豪宅谋杀案（修复后）

#### 成功要素分析

**1. 角色设计**
- ✅ **王美丽**：背景模糊化处理，不直接暴露动机
- ✅ **李小华**：经济困难暗示，但不明确具体数额
- ✅ **张秘书**：复杂情感暗示，但不直接说明
- ✅ **刘管家**：道德冲突暗示，增加嫌疑度

**2. 证据层次**
- ✅ 动机证据：离婚协议、出轨照片
- ✅ 时间线证据：神秘电话、厨房监控
- ✅ 物理证据：血迹铜像、女式拖鞋印
- ✅ 行为证据：银行转账、清洁用品异常

**3. 推理设计**
- ✅ 多重嫌疑人，每人都有动机
- ✅ 证据链条完整，逻辑严密
- ✅ 真相揭示有说服力

### 需要改进的案例特征

#### 常见问题
1. **信息过度暴露**
   - 角色背景直接说明犯罪行为
   - 不在场证明直接标明虚假
   - 秘密信息过于具体

2. **逻辑不够严密**
   - 时间线存在矛盾
   - 动机不够充分
   - 证据链条有缺失

3. **推理乐趣不足**
   - 凶手过于明显
   - 缺乏悬念设置
   - 红鲱鱼使用不当

---

## 🎯 创作流程建议

### 第一阶段：概念设计
1. **确定案件类型**：选择合适的CaseCategory
2. **设计核心冲突**：确定主要的人际关系和矛盾
3. **构思作案动机**：设计充分且合理的杀人动机
4. **选择作案手法**：根据案件类型设计作案方式

### 第二阶段：角色创建
1. **设计受害者**：确定其人际关系和过往行为
2. **创建真凶**：设计充分的动机和作案能力
3. **添加嫌疑人**：确保每人都有合理动机
4. **加入专家角色**：提供专业支持

### 第三阶段：证据设计
1. **构建证据链条**：从动机到物证的完整链条
2. **分配知情人**：合理分配证据的知情范围
3. **设置发现难度**：平衡证据的获取难度
4. **添加红鲱鱼**：适度增加推理难度

### 第四阶段：推理设计
1. **构建时间线**：确保逻辑自洽
2. **设计悬念点**：在关键位置设置悬念
3. **平衡嫌疑度**：避免凶手过于明显
4. **设计反转**：适当增加意外性

### 第五阶段：质量检查
1. **逻辑验证**：检查推理链条的完整性
2. **信息平衡**：确保信息分配合理
3. **难度评估**：使用评估清单确定难度
4. **体验测试**：模拟玩家游戏过程

### 第六阶段：优化完善
1. **根据测试结果调整**：修复发现的问题
2. **平衡游戏体验**：确保乐趣和挑战并存
3. **最终检查**：使用质量检查清单
4. **文档完善**：确保所有信息准确完整

---

## 📝 总结

创作优秀的AI侦探游戏案件需要在逻辑严密性、推理乐趣和游戏平衡之间找到完美的平衡点。通过遵循本指南的原则和方法，可以创作出既有挑战性又有趣味性的高质量案件。

记住，最重要的是**让玩家通过推理而非猜测来解决案件**，这是AI侦探游戏的核心魅力所在。

---

*本指南将根据实际使用经验持续更新和完善。* 