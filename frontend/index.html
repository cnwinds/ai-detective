<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïµÔ∏è ‰æ¶Êé¢Êé®ÁêÜÊ∏∏Êàè</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Âä†ËΩΩÂ±èÂπï -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <i class="fas fa-search loading-icon"></i>
                <h2>Ê≠£Âú®Âä†ËΩΩÊ∏∏Êàè...</h2>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <!-- ‰∏ªËèúÂçï -->
        <div id="main-menu" class="screen active">
            <div class="menu-container">
                <div class="game-title">
                    <h1><i class="fas fa-search"></i> ‰æ¶Êé¢Êé®ÁêÜÊ∏∏Êàè</h1>
                    <p class="subtitle">ËøêÁî®‰Ω†ÁöÑÊé®ÁêÜËÉΩÂäõÔºåÊè≠ÂºÄË∞úÂõ¢ÁöÑÁúüÁõ∏</p>
                </div>
                
                <div class="menu-buttons">
                    <button id="start-game-btn" class="menu-btn primary">
                        <i class="fas fa-play"></i>
                        ÂºÄÂßãÊ∏∏Êàè
                    </button>
                    <button id="rules-btn" class="menu-btn">
                        <i class="fas fa-book"></i>
                        Ê∏∏ÊàèËßÑÂàô
                    </button>
                    <button id="about-btn" class="menu-btn">
                        <i class="fas fa-info-circle"></i>
                        ÂÖ≥‰∫éÊ∏∏Êàè
                    </button>
                </div>
                
                <div class="version-info">
                    <span id="app-version">v1.5.0</span>
                </div>
            </div>
        </div>

        <!-- Ê°à‰æãÈÄâÊã© -->
        <div id="case-selection" class="screen">
            <div class="container">
                <h2><i class="fas fa-folder-open"></i> ÈÄâÊã©Ê°à‰ª∂</h2>
                
                <!-- Ê°à‰æãËøáÊª§Âô® -->
                <div id="case-filters" class="case-filters">
                    <!-- ËøáÊª§Âô®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
                
                <div id="cases-list" class="cases-grid">
                    <!-- Ê°à‰æãÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩ -->
                </div>
                <button id="back-to-menu" class="btn secondary">
                    <i class="fas fa-arrow-left"></i> ËøîÂõû‰∏ªËèúÂçï
                </button>
            </div>
        </div>

        <!-- Ê°àÊÉÖ‰ªãÁªçÁïåÈù¢ -->
        <div id="case-intro-screen" class="screen">
            <div class="container">
                <div class="case-intro-content">
                    <div class="case-intro-header">
                        <h2 id="intro-case-title">Ê°à‰ª∂Ê†áÈ¢ò</h2>
                    </div>
                    
                    <div class="case-intro-body">
                        <div class="intro-section" id="case-details-section" style="display: none;">
                            <h3 id="case-details-title"><i class="fas fa-info-circle"></i> <span></span></h3>
                            <div class="case-details-grid">
                                <div class="detail-item">
                                    <span class="detail-icon" id="victim-icon"></span>
                                    <div class="detail-content">
                                        <span class="detail-label" id="victim-label"></span>
                                        <span class="detail-value" id="victim-name"></span>
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon" id="victim-age-icon"></span>
                                    <div class="detail-content">
                                        <span class="detail-label" id="victim-age-label"></span>
                                        <span class="detail-value" id="victim-age-occupation"></span>
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon" id="death-time-icon"></span>
                                    <div class="detail-content">
                                        <span class="detail-label" id="death-time-label"></span>
                                        <span class="detail-value" id="death-time"></span>
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon" id="death-location-icon"></span>
                                    <div class="detail-content">
                                        <span class="detail-label" id="death-location-label"></span>
                                        <span class="detail-value" id="death-location"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="intro-section" id="description-section" style="display: none;">
                            <h3 id="description-title"><i class="fas fa-scroll"></i> <span></span></h3>
                            <div id="intro-description" class="typewriter-text">
                                <!-- Ê°àÊÉÖÊèèËø∞Â∞ÜÈÄöËøáÊâìÂ≠óÊú∫ÊïàÊûúÊòæÁ§∫ -->
                            </div>
                        </div>
                        
                        <div class="intro-section" id="characters-section" style="display: none;">
                            <h3 id="characters-title"><i class="fas fa-users"></i> <span></span></h3>
                            <div id="intro-characters" class="intro-characters-grid">
                                <!-- ËßíËâ≤‰ø°ÊÅØÂ∞ÜÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        
                        <div class="intro-section" id="goals-section" style="display: none;">
                            <h3 id="goals-title"><i class="fas fa-crosshairs"></i> <span></span></h3>
                            <div class="investigation-goals">
                                <div class="goal-item">
                                    <i class="fas fa-search"></i>
                                    <span></span>
                                </div>
                                <div class="goal-item">
                                    <i class="fas fa-puzzle-piece"></i>
                                    <span></span>
                                </div>
                                <div class="goal-item">
                                    <i class="fas fa-gavel"></i>
                                    <span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="case-intro-footer">
                        <button id="start-investigation-btn" class="btn primary large" disabled>
                            <i class="fas fa-play"></i>
                            ÂºÄÂßãË∞ÉÊü•
                        </button>
                        <button id="skip-intro-btn" class="btn secondary">
                            <i class="fas fa-forward"></i>
                            Ë∑≥Ëøá‰ªãÁªç
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ê∏∏ÊàèÁïåÈù¢ -->
        <div id="game-screen" class="screen">
            <!-- Ê∏∏ÊàèÂ§¥ÈÉ® -->
            <div class="game-header">
                <div class="case-info">
                    <h2 id="case-title">Ê°à‰æãÊ†áÈ¢ò</h2>
                    <p id="case-description">Ê°à‰æãÊèèËø∞</p>
                    <div class="case-victim-info">
                        <div class="victim-detail">
                            <i class="fas fa-user-injured"></i>
                            <span><strong>ÂèóÂÆ≥ËÄÖÔºö</strong><span id="game-victim-name">-</span></span>
                        </div>
                        <div class="victim-detail">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><strong>Ê°àÂèëÂú∞ÁÇπÔºö</strong><span id="game-crime-scene">-</span></span>
                        </div>
                        <div class="victim-detail">
                            <i class="fas fa-clock"></i>
                            <span><strong>Ê°àÂèëÊó∂Èó¥Ôºö</strong><span id="game-crime-time">-</span></span>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Ê∏∏Êàè‰∏ª‰Ωì -->
            <div class="game-body">
                <!-- Â∑¶‰æßËßíËâ≤ÂàóË°® -->
                <div class="characters-panel">
                    <h3><i class="fas fa-users"></i> ËßíËâ≤</h3>
                    <div id="characters-list" class="characters-list">
                        <!-- ËßíËâ≤ÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                    
                    <div class="action-buttons">
                        <button id="get-hint-btn" class="btn hint-btn">
                            <span class="button-text">
                                <i class="fas fa-lightbulb"></i>
                                Ëé∑ÂèñÊèêÁ§∫
                            </span>
                            <span class="button-count">(<span id="hints-used">0</span>/<span id="max-hints">3</span>)</span>
                        </button>
                        <button id="make-accusation-btn" class="btn accusation-btn">
                            <i class="fas fa-gavel"></i>
                            ËøõË°åÊåáÊéß
                        </button>
                    </div>
                </div>

                <!-- ‰∏≠Èó¥ÂØπËØùÂå∫Âüü -->
                <div class="conversation-panel">
                    <!-- Êï¥ÂêàÁöÑÂØπËØùÊ†áÈ¢òÂíåËßíËâ≤‰ø°ÊÅØ -->
                    <div class="conversation-header-integrated">
                        <!-- ÈªòËÆ§Áä∂ÊÄÅ -->
                        <div id="default-header" class="default-conversation-header">
                            <h3>
                                <i class="fas fa-comments"></i> 
                                ÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤ÂºÄÂßãÂØπËØù
                            </h3>
                        </div>
                        
                        <!-- ÈÄâÊã©ËßíËâ≤ÂêéÁöÑÁä∂ÊÄÅ -->
                        <div id="character-header" class="character-conversation-header" style="display: none;">
                            <div class="character-header-main">
                                <div class="character-avatar-small">
                                    <i id="character-avatar-icon" class="fas fa-user"></i>
                                </div>
                                <div class="character-info-left-area">
                                    <div class="character-title-line">
                                        <h3 id="character-name-display">ËßíËâ≤Âêç</h3>
                                        <span id="character-type-display" class="character-type-badge-small"></span>
                                    </div>
                                    <p id="character-occupation-display" class="character-occupation-small">ËÅå‰∏ö</p>
                                </div>
                                <div class="character-background-right">
                                    <span class="background-label-inline">
                                        ËÉåÊôØÔºö
                                    </span>
                                    <span id="character-background-text" class="background-text-inline"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="conversation-area" class="conversation-area">
                        <div class="welcome-message">
                            <i class="fas fa-arrow-left"></i>
                            <p>ÁÇπÂáªÂ∑¶‰æßËßíËâ≤ÂºÄÂßãËØ¢ÈóÆ</p>
                        </div>
                    </div>

                    <div id="question-input-area" class="question-input-area" style="display: none;">
                        <div class="suggested-questions">
                            <h4>ÂèÇËÄÉÈóÆÈ¢òÔºö</h4>
                            <div id="suggested-questions-list" class="suggested-questions-list">
                                <!-- ÂèÇËÄÉÈóÆÈ¢òÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        
                        <div class="question-input">
                            <textarea id="question-input" placeholder="ËæìÂÖ•‰Ω†ÁöÑÈóÆÈ¢ò..." rows="3"></textarea>
                            <button id="ask-question-btn" class="btn primary">
                                <span class="button-text">
                                    <i class="fas fa-paper-plane"></i>
                                    ÊèêÈóÆ
                                </span>
                                <span class="button-count">(<span id="current-round">0</span>/<span id="max-rounds">30</span>)</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Âè≥‰æß‰ø°ÊÅØÈù¢Êùø -->
                <div class="info-panel">
                    <div class="evidence-section">
                        <h3><i class="fas fa-search"></i> ÂèëÁé∞ÁöÑËØÅÊçÆ</h3>
                        <div id="evidence-list" class="evidence-list">
                            <p class="no-evidence">ÊöÇÊó†ÂèëÁé∞ÁöÑËØÅÊçÆ</p>
                        </div>
                    </div>
                    
                    <div class="hints-section">
                        <h3><i class="fas fa-lightbulb"></i> Ëé∑ÂèñÁöÑÊèêÁ§∫</h3>
                        <div id="hints-list" class="hints-list">
                            <p class="no-hints">ÊöÇÊó†Ëé∑ÂèñÁöÑÊèêÁ§∫</p>
                        </div>
                    </div>
                    
                    <div class="notes-section">
                        <h3><i class="fas fa-sticky-note"></i> Á¨îËÆ∞</h3>
                        <textarea id="notes-area" placeholder="ËÆ∞ÂΩï‰Ω†ÁöÑÊé®ÁêÜÂíåÂèëÁé∞..."></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÊåáÊéßÁïåÈù¢ -->
        <div id="accusation-screen" class="screen">
            <div class="container">
                <h2><i class="fas fa-gavel"></i> ËøõË°åÊåáÊéß</h2>
                
                <div class="accusation-form">
                    <div class="form-group">
                        <label for="accused-select">ÈÄâÊã©Ë¢´ÊåáÊéßËÄÖÔºö</label>
                        <select id="accused-select" class="form-control">
                            <option value="">ËØ∑ÈÄâÊã©...</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="accusation-reasoning">ÊåáÊéßÁêÜÁî±Ôºö</label>
                        <textarea id="accusation-reasoning" class="form-control" rows="5" 
                                placeholder="ËØ¶ÁªÜËØ¥Êòé‰Ω†ÁöÑÊåáÊéßÁêÜÁî±ÂíåËØÅÊçÆ..."></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button id="submit-accusation-btn" class="btn primary">
                            <i class="fas fa-gavel"></i>
                            Êèê‰∫§ÊåáÊéß
                        </button>
                        <button id="cancel-accusation-btn" class="btn secondary">
                            <i class="fas fa-times"></i>
                            ÂèñÊ∂à
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÆ°Âà§ÁªìÊûúÁïåÈù¢ -->
        <div id="trial-result-screen" class="screen">
            <div class="container">
                <h2><i class="fas fa-balance-scale"></i> ÂÆ°Âà§ÁªìÊûú</h2>
                <div id="trial-result-content">
                    <!-- ÂÆ°Âà§ÁªìÊûúÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </div>

        <!-- ËßÑÂàôËØ¥ÊòéÂºπÁ™ó -->
        <div id="rules-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-book"></i> Ê∏∏ÊàèËßÑÂàô</h3>
                    <button class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="rules-content">
                        <h4>üéØ Ê∏∏ÊàèÁõÆÊ†á</h4>
                        <p>ÈÄöËøá‰∏éÊ°à‰ª∂Áõ∏ÂÖ≥‰∫∫ÂëòÂØπËØùÔºåÊî∂ÈõÜÁ∫øÁ¥¢ÂíåËØÅÊçÆÔºåÊúÄÁªàÊâæÂá∫ÁúüÊ≠£ÁöÑÂá∂Êâã„ÄÇ</p>
                        
                        <h4>üéÆ Ê∏∏ÊàèÊµÅÁ®ã</h4>
                        <ol>
                            <li>ÈÄâÊã©Ê°à‰æãÂºÄÂßãÊ∏∏Êàè</li>
                            <li>‰∏é‰∏çÂêåËßíËâ≤ÂØπËØùÔºåËØ¢ÈóÆÁõ∏ÂÖ≥ÈóÆÈ¢ò</li>
                            <li>Êî∂ÈõÜËØÅÊçÆÂíåÁ∫øÁ¥¢</li>
                            <li>ÂàÜÊûê‰ø°ÊÅØÔºåÂΩ¢ÊàêÊé®ÁêÜ</li>
                            <li>ËøõË°åÊåáÊéßÔºåÂèÇ‰∏éÂÆ°Âà§</li>
                        </ol>
                        
                        <h4>‚ö° Ê∏∏ÊàèÈôêÂà∂</h4>
                        <ul>
                            <li>ÊúÄÂ§öËøõË°å30ËΩÆÂØπËØù</li>
                            <li>ÊúÄÂ§ö‰ΩøÁî®3Ê¨°ÊèêÁ§∫</li>
                            <li>‰ΩøÁî®ÊåáÊéß‰ºöËøõÂÖ•ÂÆ°Âà§ÊµÅÁ®ã</li>
                        </ul>
                        
                        <h4>üí° Ê∏∏ÊàèÊäÄÂ∑ß</h4>
                        <ul>
                            <li>‰ªîÁªÜËßÇÂØüËßíËâ≤ÁöÑÂõûÁ≠îÔºåÂØªÊâæÁüõÁõæ‰πãÂ§Ñ</li>
                            <li>ÂÖ≥Ê≥®Êó∂Èó¥Á∫øÂíå‰∏çÂú®Âú∫ËØÅÊòé</li>
                            <li>ÂêàÁêÜ‰ΩøÁî®ÊèêÁ§∫ÂäüËÉΩ</li>
                            <li>ÂÅöÂ•ΩÁ¨îËÆ∞ÔºåËÆ∞ÂΩïÈáçË¶Å‰ø°ÊÅØ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÖ≥‰∫éÊ∏∏ÊàèÂºπÁ™ó -->
        <div id="about-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-info-circle"></i> ÂÖ≥‰∫éÊ∏∏Êàè</h3>
                    <button class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="about-content">
                        <h4>üïµÔ∏è ‰æ¶Êé¢Êé®ÁêÜÊ∏∏Êàè</h4>
                        <p>ËøôÊòØ‰∏ÄÊ¨æÂü∫‰∫éAIÁöÑ‰∫íÂä®ÂºèÊé®ÁêÜÊ∏∏ÊàèÔºåÁé©ÂÆ∂ÊâÆÊºî‰æ¶Êé¢ËßíËâ≤ÔºåÈÄöËøá‰∏éÊ°à‰ª∂Áõ∏ÂÖ≥‰∫∫ÂëòÂØπËØùÊù•Êî∂ÈõÜÁ∫øÁ¥¢ÔºåÊúÄÁªàÊè≠ÂºÄÊ°à‰ª∂ÁúüÁõ∏„ÄÇ</p>
                        
                        <h4>‚ú® ÁâπËâ≤ÂäüËÉΩ</h4>
                        <ul>
                            <li>Êô∫ËÉΩAIËßíËâ≤ÂØπËØùÁ≥ªÁªü</li>
                            <li>Âä®ÊÄÅËØÅÊçÆÂèëÁé∞Êú∫Âà∂</li>
                            <li>ÂÆåÊï¥ÁöÑÂÆ°Âà§ÊäïÁ•®ÊµÅÁ®ã</li>
                            <li>Â§öÊ†∑ÂåñÁöÑÊ°à‰æãÂÜÖÂÆπ</li>
                        </ul>
                        
                        <h4>üõ†Ô∏è ÊäÄÊúØÂÆûÁé∞</h4>
                        <p>Ê∏∏ÊàèÈááÁî®ÂâçÂêéÁ´ØÂàÜÁ¶ªÊû∂ÊûÑÔºåÂêéÁ´Ø‰ΩøÁî®FastAPIÊèê‰æõAPIÊúçÂä°ÔºåÂâçÁ´Ø‰ΩøÁî®Áé∞‰ª£WebÊäÄÊúØÊûÑÂª∫‰∫§‰∫íÁïåÈù¢„ÄÇ</p>
                        
                        <div class="version-info">
                            <p><strong>ÁâàÊú¨Ôºö</strong>1.0.0</p>
                            <p><strong>Êõ¥Êñ∞Êó∂Èó¥Ôºö</strong>2024Âπ¥</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÈÄöÁî®ÊèêÁ§∫ÂºπÁ™ó -->
        <div id="message-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="message-title">ÊèêÁ§∫</h3>
                    <button class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="message-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js?v=1.4"></script>
</body>
</html> 