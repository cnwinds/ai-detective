# 🎨 AI侦探游戏主题色规范

## 📋 概述

本文档规定了AI侦探游戏项目的主题色系统规范，确保在不同主题（浅色/深色）和设备（桌面/移动）之间保持一致的视觉体验。

## 🎯 设计原则

### 1. 主题适配性
- 所有UI组件必须支持浅色和深色主题自动切换
- 禁止在CSS中使用硬编码颜色值
- 所有颜色都通过CSS变量（`--theme-*`）定义

### 2. 可访问性
- 确保文本与背景的对比度符合WCAG 2.1 AA标准
- 深色主题下避免纯白色文字，使用柔和的浅色
- 浅色主题下避免纯黑色文字，使用深灰色

### 3. 视觉层次
- 使用不同透明度创建视觉层次
- 主要内容使用主色调，次要内容使用次色调
- 通过颜色深浅区分重要性级别

## 🎨 核心主题变量

### 基础色彩系统

```css
/* 主色调 */
--theme-primary-color: 主品牌色（金色系）
--theme-secondary-color: 次要色彩
--theme-accent-color: 强调色彩

/* 背景色系 */
--theme-primary-bg: 主背景色
--theme-secondary-bg: 次要背景色（15%透明度）
--theme-card-bg: 卡片背景色
--theme-overlay-bg: 遮罩背景色

/* 边框色系 */
--theme-border-color: 主边框色（50%透明度）
--theme-border-light: 浅色边框
--theme-border-dark: 深色边框

/* 文字色系 */
--theme-text-primary: 主要文字色
--theme-text-secondary: 次要文字色
--theme-text-muted: 弱化文字色
--theme-text-inverse: 反色文字
```

### 状态色系

```css
/* 交互状态 */
--theme-hover-bg: 悬停背景色
--theme-active-bg: 激活背景色
--theme-focus-color: 焦点边框色

/* 功能状态 */
--theme-success-color: 成功状态色
--theme-warning-color: 警告状态色
--theme-error-color: 错误状态色
--theme-info-color: 信息状态色
```

## 🎭 角色色彩系统

### 角色类型映射

```css
/* 角色背景色（15%透明度） */
--theme-character-victim-bg: 受害者背景色
--theme-character-suspect-bg: 嫌疑人背景色
--theme-character-witness-bg: 证人背景色
--theme-character-expert-bg: 专家背景色
--theme-character-investigator-bg: 调查员背景色

/* 角色边框色（50%透明度） */
--theme-character-victim-border: 受害者边框色
--theme-character-suspect-border: 嫌疑人边框色
--theme-character-witness-border: 证人边框色
--theme-character-expert-border: 专家边框色
--theme-character-investigator-border: 调查员边框色

/* 角色文字色 */
--theme-character-victim-color: 受害者文字色
--theme-character-suspect-color: 嫌疑人文字色
--theme-character-witness-color: 证人文字色
--theme-character-expert-color: 专家文字色
--theme-character-investigator-color: 调查员文字色
```

### 角色色彩生成规则

主题管理器的`calculateCharacterVariants()`方法自动为每个角色类型生成：
- **背景色**：基础色 + 15%透明度
- **边框色**：基础色 + 50%透明度  
- **文字色**：基础色（完全不透明）

## 🛠️ 组件规范

### 1. 自定义下拉选择器

```css
.custom-select {
    background: var(--theme-secondary-bg);
    border: 2px solid var(--theme-border-color);
    color: var(--theme-text-primary);
}

.custom-select:focus {
    border-color: var(--theme-primary-color);
    box-shadow: 0 0 10px var(--theme-primary-color);
}

.custom-select-dropdown {
    background: var(--theme-card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--theme-border-color);
}

.custom-select-option:hover {
    background: var(--theme-hover-bg);
    color: var(--theme-text-primary);
}
```

### 2. 角色项目卡片

```css
.character-item {
    background: var(--theme-secondary-bg);
    border: 1px solid var(--theme-border-color);
    color: var(--theme-text-primary);
}

.character-item:hover {
    border-color: var(--theme-primary-color);
    box-shadow: 0 0 15px var(--theme-primary-color);
}

.character-type-badge {
    background: var(--theme-character-{type}-bg);
    border: 1px solid var(--theme-character-{type}-border);
    color: var(--theme-character-{type}-color);
}
```

### 3. 表单元素

```css
.form-input {
    background: var(--theme-secondary-bg);
    border: 1px solid var(--theme-border-color);
    color: var(--theme-text-primary);
}

.form-input:focus {
    border-color: var(--theme-primary-color);
    box-shadow: 0 0 5px var(--theme-primary-color);
}

.form-button {
    background: var(--theme-primary-color);
    color: var(--theme-text-inverse);
    border: none;
}

.form-button:hover {
    background: var(--theme-accent-color);
}
```

## 🔧 实施指南

### 1. 禁止使用的颜色值

❌ **绝对禁止**：
```css
/* 硬编码颜色值 */
background: #ffffff;
color: rgba(255, 255, 255, 0.8);
border: 1px solid #cccccc;

/* 固定透明度值 */
background: rgba(255, 255, 255, 0.1);
```

### 2. 推荐使用方式

✅ **正确做法**：
```css
/* 使用主题变量 */
background: var(--theme-primary-bg);
color: var(--theme-text-primary);
border: 1px solid var(--theme-border-color);

/* 组合使用 */
background: var(--theme-secondary-bg);
```

### 3. 新组件开发流程

1. **分析组件**：确定组件的视觉层次和功能状态
2. **选择变量**：从现有主题变量中选择合适的颜色
3. **测试主题**：在浅色和深色主题下测试效果
4. **检查对比度**：确保文字可读性符合标准
5. **文档更新**：在本规范中记录新的使用模式

### 4. 主题变量扩展

当需要新的主题变量时：

1. 在`theme-manager.js`的`generateThemeVariables()`中添加
2. 确保浅色和深色主题都有对应值
3. 更新本文档的变量列表
4. 通知团队成员新变量的用途

## 📱 响应式适配

### 移动端特殊考虑

```css
/* 移动端触控优化 */
@media (max-width: 768px) {
    .interactive-element {
        min-height: 44px; /* 触控友好的最小高度 */
        padding: 12px 16px;
    }
    
    .custom-select-dropdown {
        max-height: 50vh; /* 防止下拉框过高 */
    }
}
```

### 桌面端增强

```css
/* 桌面端悬停效果 */
@media (min-width: 769px) {
    .hover-enhanced:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px var(--theme-primary-color);
    }
}
```

## ✅ 检查清单

### 开发前检查
- [ ] 确认设计稿中的颜色可以映射到现有主题变量
- [ ] 识别需要新增的主题变量
- [ ] 考虑深色主题下的可读性

### 开发中检查
- [ ] 没有使用硬编码颜色值
- [ ] 所有颜色都通过CSS变量定义
- [ ] 组件在两种主题下都正常显示

### 开发后检查
- [ ] 主题切换功能正常
- [ ] 文字对比度符合可访问性标准
- [ ] 移动端和桌面端显示一致
- [ ] 更新相关文档

## 🔄 版本历史

### v1.0.0 (2024-12-26)
- 建立基础主题色系统
- 定义核心颜色变量
- 创建角色色彩映射
- 实现自定义下拉选择器主题化
- 消除硬编码颜色值
- 完善响应式适配规则

## 📞 联系方式

如有主题色相关问题，请：
1. 查阅本文档寻找解决方案
2. 检查`theme-manager.js`中的实现
3. 在项目issue中提出问题
4. 联系前端开发团队

---

> 📝 **注意**：本规范是活文档，会随着项目发展持续更新。所有开发者都有责任维护和改进这个规范。 